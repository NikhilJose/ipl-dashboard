	pipeline{
	    agent any
	    tools{
	        maven 'maven3'
	        'org.jenkinsci.plugins.docker.commons.tools.DockerTool' 'myDocker'
	    }
	    stages{
	        stage("Git checkout"){
	            steps{
	                checkout([$class: 'GitSCM', branches: [[name: '*/master']], extensions: [], userRemoteConfigs: [[url: 'https://github.com/NikhilJose/ipl-dashboard.git']]])
	            }
	        }
	        stage("Build Docker Image"){
	            steps{
	                 sh 'docker build -t nikhil/ipl-dashboard .'
	            }
	        }
	        stage("Run Docker Container"){
	            steps{
	                    sh 'docker run -p 8081:8080 nikhil/ipl-dashboard:latest'
	             }
	        }
	    }
	}
